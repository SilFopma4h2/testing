<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate - Patte Conservation</title>
    <meta name="description" content="Make a secure donation to Patte Conservation. Support marine conservation, coral restoration and sustainable livelihoods. Every contribution makes a difference.">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav class="navbar container">
            <a href="index.html" class="navbar-brand">Patte Conservation</a>
            <button class="navbar-toggle">‚ò∞</button>
            <ul class="navbar-nav">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="partners.html">Partners</a></li>
                <li><a href="donate.html">Donate</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="login.html" id="authLink">Login</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Page Header -->
        <section class="hero">
            <div class="container">
                <h1>Support Marine Conservation</h1>
                <p>Your generosity helps us preserve coral reefs and support sustainable livelihoods in coastal communities. Every donation makes a real difference.</p>
            </div>
        </section>

        <!-- Impact Section -->
        <section class="section">
            <div class="container">
                <div class="section-title">
                    <h2>Your Impact</h2>
                    <p>See how your donation can make a direct difference in marine conservation and community livelihoods.</p>
                </div>
                <div class="row">
                    <div class="col-4">
                        <div class="card text-center">
                            <h3 style="color: var(--accent-color);">$25</h3>
                            <p>Supports coral restoration materials and tools for community volunteers</p>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card text-center">
                            <h3 style="color: var(--accent-color);">$50</h3>
                            <p>Funds marine conservation awareness campaigns in one village</p>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card text-center">
                            <h3 style="color: var(--accent-color);">$100</h3>
                            <p>Provides sustainable fishing training and equipment for 5 fishermen</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Conservation Fees Section -->
        <section class="section section-bg">
            <div class="container">
                <div class="section-title">
                    <h2>Conservation Fees for Tourists</h2>
                    <p>Support our marine conservation efforts while enjoying sustainable eco-tourism activities in Kenya. Check and pay your conservation fees online.</p>
                </div>
                <div class="row">
                    <div class="col-4">
                        <div class="card text-center">
                            <h3 style="color: var(--accent-color);">$15</h3>
                            <h4>Snorkeling Fee</h4>
                            <p>Conservation fee for snorkeling activities in our protected marine areas</p>
                            <p><small>Includes: Marine area access, conservation briefing, and guide support</small></p>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card text-center">
                            <h3 style="color: var(--accent-color);">$25</h3>
                            <h4>Diving Fee</h4>
                            <p>Conservation fee for diving activities and coral reef exploration</p>
                            <p><small>Includes: Dive site access, safety briefing, and marine conservation education</small></p>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card text-center">
                            <h3 style="color: var(--accent-color);">$35</h3>
                            <h4>Sea Adventure Package</h4>
                            <p>Conservation fee for comprehensive marine adventure experiences</p>
                            <p><small>Includes: Multi-activity access, guided tour, and conservation program participation</small></p>
                        </div>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 2rem;">
                    <p><strong>All fees contribute directly to marine conservation efforts and community development programs.</strong></p>
                    <a href="#donateForm" class="btn btn-primary" style="margin-right: 1rem;">Pay Conservation Fee</a>
                    <a href="contact.html" class="btn btn-outline">Contact for Group Bookings</a>
                </div>
            </div>
        </section>

        <!-- Donation Form Section -->
        <section class="section section-bg">
            <div class="container">
                <div class="row">
                    <div class="col-6" style="margin: 0 auto;">
                        <div class="card">
                            <h2 class="text-center mb-4">Secure Donation Form</h2>
                            <form id="donateForm">
                                <!-- Donation Amount -->
                                <div class="form-group">
                                    <label class="form-label">Select Donation Amount *</label>
                                    <div class="row">
                                        <div class="col-3">
                                            <label style="display: block; text-align: center; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer; margin-bottom: 0.5rem;" onclick="selectAmount(25)">
                                                <input type="radio" name="amount" value="25" style="display: none;">
                                                $25
                                            </label>
                                        </div>
                                        <div class="col-3">
                                            <label style="display: block; text-align: center; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer; margin-bottom: 0.5rem;" onclick="selectAmount(50)">
                                                <input type="radio" name="amount" value="50" style="display: none;">
                                                $50
                                            </label>
                                        </div>
                                        <div class="col-3">
                                            <label style="display: block; text-align: center; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer; margin-bottom: 0.5rem;" onclick="selectAmount(100)">
                                                <input type="radio" name="amount" value="100" style="display: none;">
                                                $100
                                            </label>
                                        </div>
                                        <div class="col-3">
                                            <label style="display: block; text-align: center; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer; margin-bottom: 0.5rem;" onclick="selectAmount('custom')">
                                                <input type="radio" name="amount" value="custom" style="display: none;">
                                                Other
                                            </label>
                                        </div>
                                    </div>
                                    <div class="custom-amount" style="display: none; margin-top: 1rem;">
                                        <input type="number" name="customAmount" class="form-control" placeholder="Enter custom amount" min="1" step="0.01">
                                    </div>
                                </div>

                                <!-- Donation Type -->
                                <div class="form-group">
                                    <label class="form-label">Donation Type</label>
                                    <div class="row">
                                        <div class="col-6">
                                            <label style="display: block; text-align: center; padding: 0.75rem; border: 2px solid var(--primary-color); border-radius: 5px; cursor: pointer; background: var(--primary-color); color: white;" onclick="selectDonationType('one-time')">
                                                <input type="radio" name="donationType" value="one-time" style="display: none;" checked>
                                                One-Time
                                            </label>
                                        </div>
                                        <div class="col-6">
                                            <label style="display: block; text-align: center; padding: 0.75rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer;" onclick="selectDonationType('monthly')">
                                                <input type="radio" name="donationType" value="monthly" style="display: none;">
                                                Monthly
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Payment Method -->
                                <div class="form-group">
                                    <label class="form-label">Payment Method * (Cryptocurrency Only)</label>
                                    <div class="row">
                                        <div class="col-6">
                                            <label style="display: block; text-align: center; padding: 1rem 0.5rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer;" onclick="selectPaymentMethod('bitcoin')">
                                                <input type="radio" name="paymentMethod" value="bitcoin" style="display: none;">
                                                <strong>Bitcoin (BTC)</strong><br>
                                                <small>Send to our BTC address</small>
                                            </label>
                                        </div>
                                        <div class="col-6">
                                            <label style="display: block; text-align: center; padding: 1rem 0.5rem; border: 2px solid #e9ecef; border-radius: 5px; cursor: pointer;" onclick="selectPaymentMethod('ethereum')">
                                                <input type="radio" name="paymentMethod" value="ethereum" style="display: none;">
                                                <strong>Ethereum (ETH)</strong><br>
                                                <small>Send to our ETH address</small>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Crypto Wallet Display -->
                                <div id="cryptoWalletInfo" class="form-group" style="display: none;">
                                    <div class="card" style="background: #f8f9fa; border: 2px solid #28a745; border-radius: 10px; padding: 1rem;">
                                        <h4 id="cryptoTitle" style="color: #28a745; margin-bottom: 1rem;">Send Your Donation</h4>
                                        <div id="cryptoAddress" style="font-family: monospace; background: white; padding: 1rem; border-radius: 5px; border: 1px solid #ddd; word-break: break-all; margin-bottom: 1rem;"></div>
                                        <p style="color: #666; font-size: 0.9rem; margin: 0;">
                                            <strong>Important:</strong> Send the exact amount to this address. Your donation will be processed once the transaction is confirmed on the blockchain.
                                        </p>
                                    </div>
                                </div>

                                <!-- Donor Information -->
                                <div class="form-group">
                                    <label for="donorName" class="form-label">Full Name *</label>
                                    <input type="text" id="donorName" name="donorName" class="form-control" required>
                                </div>

                                <div class="form-group">
                                    <label for="donorEmail" class="form-label">Email Address *</label>
                                    <input type="email" id="donorEmail" name="donorEmail" class="form-control" required>
                                </div>

                                <div class="form-group">
                                    <label for="donorPhone" class="form-label">Phone Number</label>
                                    <input type="tel" id="donorPhone" name="donorPhone" class="form-control" placeholder="For updates and notifications">
                                </div>

                                <!-- Project Selection -->
                                <div class="form-group">
                                    <label for="projectSelection" class="form-label">Direct Your Donation</label>
                                    <select id="projectSelection" name="projectSelection" class="form-control">
                                        <option value="general">Where Most Needed</option>
                                        <option value="coral-restoration">Coral Restoration</option>
                                        <option value="iweni-lmma">Iweni Locally Managed Marine Area</option>
                                        <option value="eco-tourism">Eco-Tourism Development</option>
                                        <option value="marine-awareness">Marine Conservation Awareness</option>
                                        <option value="mangrove-planting">Future: Mangrove and Seaweed Planting</option>
                                    </select>
                                </div>

                                <!-- Message -->
                                <div class="form-group">
                                    <label for="donorMessage" class="form-label">Message (Optional)</label>
                                    <textarea id="donorMessage" name="donorMessage" class="form-control" rows="3" placeholder="Share why you're supporting our mission..."></textarea>
                                </div>

                                <!-- Anonymous Option -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; cursor: pointer;">
                                        <input type="checkbox" name="anonymous" value="1" style="margin-right: 0.5rem;">
                                        Make my donation anonymous
                                    </label>
                                </div>

                                <!-- Newsletter -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; cursor: pointer;">
                                        <input type="checkbox" name="newsletter" value="1" style="margin-right: 0.5rem;" checked>
                                        Subscribe to our newsletter for updates
                                    </label>
                                </div>

                                <!-- Submit Button -->
                                <div class="form-group">
                                    <button type="submit" class="btn btn-success" style="width: 100%; font-size: 1.1rem; padding: 1rem; position: relative;">
                                        <span class="btn-text">Submit Donation Request</span>
                                        <span class="loading-spinner" style="display: none;"></span>
                                    </button>
                                </div>

                                <!-- Security Notice -->
                                <div class="text-center" style="margin-top: 1rem; padding: 1rem; background: var(--background-light); border-radius: 5px;">
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--text-light);">
                                        üîê Your donation details are secure. Send cryptocurrency to the provided address to complete your donation. We'll notify you once confirmed.
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cryptocurrency Information -->
        <section class="section">
            <div class="container">
                <div class="section-title">
                    <h2>Cryptocurrency Donations Only</h2>
                    <p>We now exclusively accept donations through Bitcoin and Ethereum for transparency and security.</p>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="card text-center">
                            <h3 style="color: #f7931a;">Bitcoin (BTC)</h3>
                            <p><strong>Our Bitcoin Address:</strong><br>
                            <small id="staticBitcoinAddress" style="font-family: monospace; word-break: break-all;">Loading...</small><br>
                            <small style="color: #666;">Scan QR code or copy address above</small></p>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card text-center">
                            <h3 style="color: #627eea;">Ethereum (ETH)</h3>
                            <p><strong>Our Ethereum Address:</strong><br>
                            <small id="staticEthereumAddress" style="font-family: monospace; word-break: break-all;">Loading...</small><br>
                            <small style="color: #666;">Scan QR code or copy address above</small></p>
                        </div>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 2rem;">
                    <div class="card" style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 1.5rem;">
                        <h4 style="color: #856404;">Important Notice</h4>
                        <p style="color: #856404; margin: 0;">
                            Please use the donation form above to register your donation details before sending cryptocurrency. 
                            This helps us acknowledge your contribution and send you a receipt.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="section section-bg">
            <div class="container">
                <div class="section-title">
                    <h2>Donation FAQ</h2>
                    <p>Common questions about making donations to Patte Conservation.</p>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="card">
                            <h3>Is my donation secure?</h3>
                            <p>Yes, all online donations are processed through secure, encrypted payment gateways. We never store your payment information on our servers.</p>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card">
                            <h3>Is my donation tax-deductible?</h3>
                            <p>Yes, Patte Conservation is a registered non-profit organization. You will receive a tax-deductible receipt for your donation via email.</p>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card">
                            <h3>How is my donation used?</h3>
                            <p>85% of donations go directly to programs, 10% to administration, and 5% to fundraising. We publish annual financial reports for full transparency.</p>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card">
                            <h3>Can I cancel a recurring donation?</h3>
                            <p>Yes, you can cancel or modify recurring donations at any time by contacting us or managing your preferences through the link in your receipt emails.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact for Large Donations -->
        <section class="section">
            <div class="container text-center">
                <h2>Planning a Large Donation?</h2>
                <p class="mb-4">For donations over $10,000, corporate partnerships, or legacy giving, our team can work with you to maximize your impact.</p>
                <a href="contact.html" class="btn btn-primary">Contact Our Development Team</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <h3>Patte Conservation</h3>
                <p>Empowering communities through marine conservation, coral restoration, and sustainable resource management.</p>
            </div>
            <div class="footer-links">
                <a href="about.html">About Us</a>
                <a href="projects.html">Projects</a>
                <a href="partners.html">Partners</a>
                <a href="donate.html">Donate</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Patte Conservation. All rights reserved. | <a href="#" style="color: white;">Privacy Policy</a> | <a href="#" style="color: white;">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // Donation form specific functions
        function selectAmount(amount) {
            // Clear all selections
            document.querySelectorAll('input[name="amount"]').forEach(input => {
                input.parentElement.style.border = '2px solid #e9ecef';
                input.parentElement.style.backgroundColor = 'transparent';
                input.parentElement.style.color = 'var(--text-dark)';
            });
            
            // Select the clicked amount
            const selectedInput = document.querySelector(`input[name="amount"][value="${amount}"]`);
            if (selectedInput) {
                selectedInput.checked = true;
                selectedInput.parentElement.style.border = '2px solid var(--primary-color)';
                selectedInput.parentElement.style.backgroundColor = 'var(--primary-color)';
                selectedInput.parentElement.style.color = 'white';
                
                // Show/hide custom amount field
                const customAmountDiv = document.querySelector('.custom-amount');
                if (amount === 'custom') {
                    customAmountDiv.style.display = 'block';
                } else {
                    customAmountDiv.style.display = 'none';
                }
            }
        }
        
        function selectDonationType(type) {
            document.querySelectorAll('input[name="donationType"]').forEach(input => {
                input.parentElement.style.border = '2px solid #e9ecef';
                input.parentElement.style.backgroundColor = 'transparent';
                input.parentElement.style.color = 'var(--text-dark)';
            });
            
            const selectedInput = document.querySelector(`input[name="donationType"][value="${type}"]`);
            if (selectedInput) {
                selectedInput.checked = true;
                selectedInput.parentElement.style.border = '2px solid var(--primary-color)';
                selectedInput.parentElement.style.backgroundColor = 'var(--primary-color)';
                selectedInput.parentElement.style.color = 'white';
            }
        }
        
        function selectPaymentMethod(method) {
            document.querySelectorAll('input[name="paymentMethod"]').forEach(input => {
                input.parentElement.style.border = '2px solid #e9ecef';
                input.parentElement.style.backgroundColor = 'transparent';
                input.parentElement.style.color = 'var(--text-dark)';
            });
            
            const selectedInput = document.querySelector(`input[name="paymentMethod"][value="${method}"]`);
            if (selectedInput) {
                selectedInput.checked = true;
                selectedInput.parentElement.style.border = '2px solid var(--primary-color)';
                selectedInput.parentElement.style.backgroundColor = 'var(--primary-color)';
                selectedInput.parentElement.style.color = 'white';
                
                // Show crypto wallet info
                const cryptoWalletInfo = document.getElementById('cryptoWalletInfo');
                const cryptoTitle = document.getElementById('cryptoTitle');
                const cryptoAddress = document.getElementById('cryptoAddress');
                
                cryptoWalletInfo.style.display = 'block';
                
                if (method === 'bitcoin') {
                    cryptoTitle.textContent = 'Send Bitcoin (BTC) to this address:';
                    cryptoAddress.textContent = cryptoAddresses.bitcoin || 'Loading address...';
                } else if (method === 'ethereum') {
                    cryptoTitle.textContent = 'Send Ethereum (ETH) to this address:';
                    cryptoAddress.textContent = cryptoAddresses.ethereum || 'Loading address...';
                }
            }
        }
        
        // Crypto addresses cache
        let cryptoAddresses = {};
        
        // Fetch crypto addresses from API
        async function loadCryptoAddresses() {
            try {
                const response = await fetch('/api/crypto-addresses');
                const result = await response.json();
                if (result.success) {
                    cryptoAddresses = result.addresses;
                    // Update static addresses in the display
                    document.getElementById('staticBitcoinAddress').textContent = cryptoAddresses.bitcoin;
                    document.getElementById('staticEthereumAddress').textContent = cryptoAddresses.ethereum;
                }
            } catch (error) {
                console.error('Failed to load crypto addresses:', error);
                document.getElementById('staticBitcoinAddress').textContent = 'Failed to load address';
                document.getElementById('staticEthereumAddress').textContent = 'Failed to load address';
            }
        }
        
        // Initialize default selections
        document.addEventListener('DOMContentLoaded', function() {
            selectDonationType('one-time');
            loadCryptoAddresses();
        });
    </script>
</body>
</html>